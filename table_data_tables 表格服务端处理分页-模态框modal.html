<!DOCTYPE html>
<html>


<!-- Mirrored from www.zi-han.net/theme/hplus/tabs_panels.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 20 Jan 2016 14:19:53 GMT -->
<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">


    <title>H+ 后台主题UI框架 - 选项卡 &amp; 面板</title>
    <meta name="keywords" content="H+后台主题,后台bootstrap框架,会员中心主题,后台HTML,响应式后台">
    <meta name="description" content="H+是一个完全响应式，基于Bootstrap3最新版本开发的扁平化主题，她采用了主流的左右两栏式布局，使用了Html5+CSS3等现代技术">

    <link rel="shortcut icon" href="http://cdn.dui1dui.com/diamond_center_pc/statics/images/favicon.ico"> 
	<link href="css/bootstrap.min14ed.css?v=3.3.6" rel="stylesheet">
    <link href="css/font-awesome.min93e3.css?v=4.4.0" rel="stylesheet">
    <link href="css/animate.min.css" rel="stylesheet">
	<link href="css/plugins/dataTables/dataTables.bootstrap.css" rel="stylesheet">
    <link href="css/style.min862f.css?v=4.1.0" rel="stylesheet">
	<link href="http://cdn.dui1dui.com/bootstrap/static/css/plugins/chosen/chosen.css" rel="stylesheet">
	
	<link rel="stylesheet" href="http://cdn.dui1dui.com/bootstrap/static/plugins/bootstrapvalidator/dist/css/bootstrapValidator.css"/>
	<link rel="stylesheet" href="http://cdn.dui1dui.com/bootstrap/static/plugins/bootstrap3-dialog/dist/css/bootstrap-dialog.min.css"/>

</head>

<body class="gray-bg">
    <div class="wrapper wrapper-content animated fadeIn">
        
		<div class="row">
            <div class="col-sm-12">
                <div class="ibox float-e-margins">
                    <div class="ibox-title">
						<div style="width:100%; margin-bottom:30px; padding-bottom:10px; border-bottom:1px solid #e7eaec">
							<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#addUserModal"  href="modal.html">添加用户</button>
							<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal" >
                                打开示例窗口
                            </button>
							<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal5">
                                    大模态窗口
                                </button>
                                <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal6">
                                    小模态窗口
                                </button>
						</div>
                       <form id="serch_form" class="form-inline">
					   
						<input type="hidden" name="draw" id="draw" />
						<input type="hidden" name="start" id="start" />
						<input type="hidden" name="length" id="length" />
						<input type="hidden" name="recordsTotal" id="recordsTotal" />
						<input type="hidden" name="recordsFiltered" id="recordsFiltered" />
                            <div class="form-group">
                                <label style="margin-left:10px; ">    用户名：</label>
                                <input type="email" placeholder="请输入用户名" id="exampleInputEmail2" class="form-control">
                            </div>
                            <div class="form-group">
                                <label style="margin-left:10px; ">    密码：</label>
                                <input type="password" placeholder="请输入密码" id="exampleInputPassword2" class="form-control">
                            </div>
							<div class="form-group">
                                <label style="margin-left:10px; ">    用户名：</label>
                                <input type="email" placeholder="请输入用户名" id="exampleInputEmail2" class="form-control">
                            </div>
                            <div class="form-group">
                                <label style="margin-left:10px; ">    密码：</label>
                                <input type="password" placeholder="请输入密码" id="exampleInputPassword2" class="form-control">
                            </div>
							<div class="form-group">
                                <label style="margin-left:10px; ">   用户名：</label>
                                <input type="email" placeholder="请输入用户名" id="exampleInputEmail2" class="form-control">
                            </div>
                            <div class="form-group">
                                <label style="margin-left:10px; ">   密码：</label>
                                <input type="password" placeholder="请输入密码" id="exampleInputPassword2" class="form-control">
                            </div>
							<div class="form-group">
                                <label style="margin-left:10px; ">    密码：</label>
                                <input type="password" placeholder="请输入密码" id="exampleInputPassword2" class="form-control">
                            </div>
							<div class="form-group">
                                <label style="margin-left:10px; ">   用户名：</label>
                                <input type="email" placeholder="请输入用户名" id="exampleInputEmail2" class="form-control">
                            </div>
                            <div class="form-group">
                                <label style="margin-left:10px; ">   密码：</label>
                                <input type="password" placeholder="请输入密码" id="exampleInputPassword2" class="form-control">
                            </div>
                            <div class="checkbox" style="width:100%; margin-top:10px; ">
                                <button class="btn btn-sm btn-primary pull-right m-t-n-xs" type="button" id="btn-advanced-search"><i class="fa fa-search">查询</i></button>
                            </div>
                            
                        </form>
					</div>
                    <div class="ibox-content">
                        <table id="usertable" class="table table-striped table-bordered table-hover dataTables-example">
                            <thead>
                                <tr>
                                    <th >姓名</th>
									<th>部门</th>
									<th >身份</th>
									<th>邮箱</th>
									<th >手机号</th>
									<th >操作</th>
                                </tr>
                            </thead>
                            <tbody>
							
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
	</div>
	
	
						<!--打开添加用户窗口  模态框-----开始-->
						<div class="modal inmodal" id="addUserModal" tabindex="-1" role="dialog" aria-hidden="true">
                            <div class="modal-dialog">
                                <div class="modal-content animated bounceInRight">
                                    
                                </div>
                            </div>
							
							
							</div>
							<!--打开添加用户窗口  模态框-----结束-->
							
						<!--打开示例窗口  模态框-----开始-->
						<div class="modal inmodal" id="myModal" tabindex="-1" role="dialog" aria-hidden="true">
                            <div class="modal-dialog">
                                <div class="modal-content animated bounceInRight">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">关闭</span>
                                        </button>
                                        <i class="fa fa-laptop modal-icon"></i>
                                        <h4 class="modal-title">窗口标题</h4>
                                        <small class="font-bold">这里可以显示副标题。
                                        </div>
                                        <div class="modal-body">
                                            <p><strong>H+</strong> 窗口内容</p>
                                                    <div class="form-group"><label>Email</label> <input type="email" placeholder="请输入您的Email" class="form-control"></div>
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-white" data-dismiss="modal">关闭</button>
                                            <button type="button" class="btn btn-primary">保存</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
							
							
							</div>
							<!--打开示例窗口  模态框-----结束-->
							
							<!--大  模态框-----开始-->
							<div class="modal inmodal fade" id="myModal5" tabindex="-1" role="dialog"  aria-hidden="true">
                                <div class="modal-dialog modal-lg">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                                            <h4 class="modal-title">大窗口标题</h4>
                                            <small class="font-bold">这里可以显示副标题。
                                        </div>
                                        <div class="modal-body">
                                            <p><strong>H+</strong> 是一个完全响应式，基于Bootstrap3.3.6最新版本开发的扁平化主题，她采用了主流的左右两栏式布局，使用了Html5+CSS3等现代技术，她提供了诸多的强大的可以重新组合的UI组件，并集成了最新的jQuery版本(v2.1.1)，当然，也集成了很多功能强大，用途广泛的jQuery插件，她可以用于所有的Web应用程序，如网站管理后台，网站会员中心，CMS，CRM，OA等等，当然，您也可以对她进行深度定制，以做出更强系统。</p>
                                        </div>

                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-white" data-dismiss="modal">关闭</button>
                                            <button type="button" class="btn btn-primary">保存</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
							<!--大  模态框-----结束-->
							
							<!--小  模态框-----开始-->
                            <div class="modal inmodal fade" id="myModal6" tabindex="-1" role="dialog"  aria-hidden="true">
                                <div class="modal-dialog modal-sm">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                                            <h4 class="modal-title">小窗口标题</h4>
                                        </div>
                                        <div class="modal-body">
                                            <p><strong>H+</strong> 是一个完全响应式，基于Bootstrap3.3.6最新版本开发的扁平化主题，她采用了主流的左右两栏式布局，使用了Html5+CSS3等现代技术，她提供了诸多的强大的可以重新组合的UI组件，并集成了最新的jQuery版本(v2.1.1)，当然，也集成了很多功能强大，用途广泛的jQuery插件，她可以用于所有的Web应用程序，如网站管理后台，网站会员中心，CMS，CRM，OA等等，当然，您也可以对她进行深度定制，以做出更强系统。</p>
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-white" data-dismiss="modal">关闭</button>
                                            <button type="button" class="btn btn-primary">保存</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
							<!--小  模态框-----结束-->
    <script src="js/jquery.min.js?v=2.1.4"></script>
    <script src="js/bootstrap.min.js?v=3.3.6"></script>
	<script src="js/plugins/dataTables/jquery.dataTables.js"></script>
    <script src="js/plugins/dataTables/dataTables.bootstrap.js"></script>
	<script src="http://cdn.dui1dui.com/bootstrap/static/js/plugins/chosen/chosen.jquery.js"></script>
	<script type="text/javascript" src="http://cdn.dui1dui.com/bootstrap/static/plugins/bootstrapvalidator/dist/js/bootstrapValidator.js"></script>
<script type="text/javascript" src="http://cdn.dui1dui.com/bootstrap/static/plugins/bootstrapvalidator/dist/js/language/zh_CN.js"></script>
<script type="text/javascript" src="http://cdn.dui1dui.com/bootstrap/static/plugins/bootstrap3-dialog/dist/js/bootstrap-dialog.min.js"></script>
	<script>
        $(document).ready(function () {
        	
			
			var $table = $('#usertable');
		var _table = $table.DataTable({
			"processing": true,
			"serverSide": true,
			"ordering": false,
			"bFilter": false,
			"autoWidth": false,
			"ajax": function(data, callback, settings) {//ajax配置为function,手动调用异步查询


				//组装分页参数
				$('#draw').val(data.draw);
				$('#start').val(data.start);
				$('#length').val(data.length);
				$('#recordsTotal').val(data.recordsTotal);
				$('#recordsFiltered').val(data.recordsFiltered);

				$.ajax({
					type: "GET",
					url: "data.json",
					cache : false,  //禁用缓存
					data: $("#serch_form").serialize(),    //传入已封装的参数
					dataType: "json",//真正到后台获取数据时，此处要将注释打开
					success: function(result) {


						//封装返回数据，这里仅演示了修改属性名
						var returnData = {};
						returnData = result.returnData;
						//调用DataTables提供的callback方法，代表数据已封装完成并传回DataTables进行渲染
						//此时的数据需确保正确无误，异常判断应在执行此回调前自行处理完毕
						callback(returnData);
					},
					error: function(XMLHttpRequest, textStatus, errorThrown) {
					}
				});
			},
			"columns": [
				{
					"className" : "ellipsis", //文字过长时用省略号显示，CSS实现
					"data": "username",
					width : "50px"
				},
				{
					"data": "department_name" ,
					width : "50px",
					render : function(data,type, row, meta) {
						if(data){
							return data;
						}else {

							return "";
						}

					}
				},
				{
					"className" : "ellipsis", //文字过长时用省略号显示，CSS实现
					"data": "department_position",
					width : "40px",
					render : function(data,type, row, meta) {
						var str = "";
						if(data == 0){
							str = "负责人";
						}
						if(data == 1){
							str = "成员 ";
						}

						return str;
					}
				}
				,
				{
					"className" : "ellipsis", //文字过长时用省略号显示，CSS实现
					"data": "email",
					width : "50px"
				}
				,
				{
					"className" : "ellipsis", //文字过长时用省略号显示，CSS实现
					"data": "phone",
					width : "40px"
				}
				,
				{
					"className" : "ellipsis", //文字过长时用省略号显示，CSS实现
					"data": "",
					render : function(data,type, row, meta) {
						var str = "";
						return str;
					},
					width : "80px"
				}
			]
			,
			"createdRow": function ( row, data, index ) {

				//不使用render，改用jquery文档操作呈现单元格
				var $btnrole = $('<button type="button" class="btn btn-xs btn-primary btn-edit" data-toggle="modal" data-target="#addUserRoleModal"  href="/backend/user/addRole.html?userId='+data.id+'">授权</button>');
				var $btnEdit = $('<button type="button" class="btn btn-xs btn-primary btn-edit" data-toggle="modal" data-target="#editUserModal"  href="/backend/user/edit.html?userId='+data.id+'">修改</button>');
				var $btnDel = $('<button type="button" onclick="delUser(\''+data.id+'\')" class="btn btn-xs btn-danger btn-del">删除</button>');
				$('td', row).eq(5).append($btnEdit);
				if(data.id != 0){

					$('td', row).eq(5).append($btnrole).append($btnDel);
				}

			}
		});

		$("#btn-advanced-search").click(function(){
			_table.draw();
		});
		$("#btn-advanced-reset").click(function(){
			this.form.reset();
			_table.draw();
		});



		var config = {
			".chosen-select": {},
			".chosen-select-deselect": {
				allow_single_deselect: !0
			},
			".chosen-select-no-single": {
				disable_search_threshold: 10
			},
			".chosen-select-no-results": {
				no_results_text: "Oops, nothing found!"
			},
			".chosen-select-width": {
				width: "95%"
			}
		};
		for (var selector in config)
			$(selector).chosen(config[selector]);
	
			
			$("#table_1").dataTable(
				{"ordering":false, "bFilter":false}
			);
        });
		
		
		function delUser(id) {
		console.log(id);
		var url ="/backend/user/del.do";
		BootstrapDialog.confirm({
			title: '消息',
			message: '确定要删除该用户吗?',
			type: BootstrapDialog.TYPE_WARNING, // <-- Default value is BootstrapDialog.TYPE_PRIMARY
			closable: true, // <-- Default value is false
			draggable: true, // <-- Default value is false
			btnCancelLabel: '取消', // <-- Default value is 'Cancel',
			btnOKLabel: '确定', // <-- Default value is 'OK',
			btnOKClass: 'btn-warning', // <-- If you didn't specify it, dialog type will be used,
			callback: function(result) {
				// result will be true if button was click, while it will be false if users close the dialog directly.
				if(result) {
					$.post(url, {"userId":id}, function(result) {
						BootstrapDialog.show({
							title: '提示消息',
							message: result.message
						});
						$('#usertable').DataTable().draw();
					}, 'json');
				}
			}
		});


	}
    </script>
</body>


<!-- Mirrored from www.zi-han.net/theme/hplus/tabs_panels.html by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 20 Jan 2016 14:19:53 GMT -->
</html>
